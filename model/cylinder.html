<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>2.1.1.4. Cylinder &mdash; Sasmodels</title>
    
    <link rel="stylesheet" href="../_static/haiku-site.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.9',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Sasmodels" href="../index.html" />
    <link rel="up" title="2.1.1. Cylinder Functions" href="../ref/models/shape-cylinder.html" />
    <link rel="next" title="2.1.2. Ellipsoid Functions" href="../ref/models/shape-ellipsoid.html" />
    <link rel="prev" title="2.1.1.3. Core shell cylinder" href="core_shell_cylinder.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="../index.html">
          <span>Home</span></a></h1>
        <h2 class="heading"><span>2.1.1.4. Cylinder</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="core_shell_cylinder.html">2.1.1.3. Core shell cylinder</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="../ref/models/shape-ellipsoid.html">2.1.2. Ellipsoid Functions</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="cylinder">
<span id="id1"></span><h1>2.1.1.4. Cylinder<a class="headerlink" href="#cylinder" title="Permalink to this headline">¶</a></h1>
<p>Right circular cylinder with uniform scattering length density.</p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="49%" />
<col width="17%" />
<col width="19%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Description</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>Source intensity</td>
<td>None</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>background</td>
<td>Source background</td>
<td>cm<sup>-1</sup></td>
<td>0</td>
</tr>
<tr class="row-even"><td>sld</td>
<td>Cylinder scattering length density</td>
<td>10<sup>-6</sup>Å<sup>-2</sup></td>
<td>4</td>
</tr>
<tr class="row-odd"><td>solvent_sld</td>
<td>Solvent scattering length density</td>
<td>10<sup>-6</sup>Å<sup>-2</sup></td>
<td>1</td>
</tr>
<tr class="row-even"><td>radius</td>
<td>Cylinder radius</td>
<td>Å</td>
<td>20</td>
</tr>
<tr class="row-odd"><td>length</td>
<td>Cylinder length</td>
<td>Å</td>
<td>400</td>
</tr>
<tr class="row-even"><td>theta</td>
<td>In plane angle</td>
<td>degree</td>
<td>60</td>
</tr>
<tr class="row-odd"><td>phi</td>
<td>Out of plane angle</td>
<td>degree</td>
<td>60</td>
</tr>
</tbody>
</table>
<p>The returned value is scaled to units of cm<sup>-1</sup>.</p>
<p>The form factor is normalized by the particle volume.</p>
<p>For information about polarised and magnetic scattering, click <a href="#id2"><span class="problematic" id="id3">here_</span></a>.</p>
<div class="section" id="definition">
<h2>Definition<a class="headerlink" href="#definition" title="Permalink to this headline">¶</a></h2>
<p>The output of the 2D scattering intensity function for oriented cylinders is
given by (Guinier, 1955)</p>
<div class="math">
\[P(Q,\alpha) = {\text{scale} \over V} F^2(Q) + \text{background}\]</div>
<p>where</p>
<div class="math">
\[F(Q) = 2 (\Delta \rho) V
       {\sin \left(Q\tfrac12 L\cos\alpha \right)
           \over Q\tfrac12 L \cos \alpha}
       {J_1 \left(Q R \sin \alpha\right) \over Q R \sin \alpha}\]</div>
<p>and <span class="math">\(\alpha\)</span> is the angle between the axis of the cylinder and <span class="math">\(\vec q\)</span>, <span class="math">\(V\)</span>
is the volume of the cylinder, <span class="math">\(L\)</span> is the length of the cylinder, <span class="math">\(R\)</span> is the
radius of the cylinder, and <span class="math">\(\Delta\rho\)</span> (contrast) is the scattering length
density difference between the scatterer and the solvent. <span class="math">\(J_1\)</span> is the
first order Bessel function.</p>
<p>To provide easy access to the orientation of the cylinder, we define the
axis of the cylinder using two angles <span class="math">\(\theta\)</span> and <span class="math">\(\phi\)</span>. Those angles
are defined in <a class="pageref" href="#cylinder-orientation">figure  1</a>.</p>
<div class="figure" id="cylinder-orientation">
<img alt="../_images/orientation.jpg" src="../_images/orientation.jpg" />
<p class="caption">Figure 1: Definition of the angles for oriented cylinders.</p>
</div>
<div class="figure">
<img alt="../_images/orientation2.jpg" src="../_images/orientation2.jpg" />
<p class="caption">Figure 2: Examples of the angles for oriented cylinders against the detector plane.</p>
</div>
<p>NB: The 2nd virial coefficient of the cylinder is calculated based on the
radius and length values, and used as the effective radius for <span class="math">\(S(Q)\)</span>
when <span class="math">\(P(Q) \cdot S(Q)\)</span> is applied.</p>
<p>The output of the 1D scattering intensity function for randomly oriented
cylinders is then given by</p>
<div class="math">
\[P(Q) = {\text{scale} \over V}
    \int_0^{\pi/2} F^2(Q,\alpha) \sin \alpha\ d\alpha + \text{background}\]</div>
<p>The <em>theta</em> and <em>phi</em> parameters are not used for the 1D output. Our
implementation of the scattering kernel and the 1D scattering intensity
use the c-library from NIST.</p>
</div>
<div class="section" id="validation">
<h2>Validation<a class="headerlink" href="#validation" title="Permalink to this headline">¶</a></h2>
<p>Validation of our code was done by comparing the output of the 1D model
to the output of the software provided by the NIST (Kline, 2006).
<a class="pageref" href="#cylinder-compare">Figure  3</a> shows a comparison of
the 1D output of our model and the output of the NIST software.</p>
<div class="figure" id="cylinder-compare">
<img alt="../_images/cylinder_compare.jpg" src="../_images/cylinder_compare.jpg" />
<p class="caption">Figure 3: Comparison of the SasView scattering intensity for a cylinder with the
output of the NIST SANS analysis software.
The parameters were set to: <em>scale</em> = 1.0, <em>radius</em> = 20 Å,
<em>length</em> = 400 Å, <em>contrast</em> = 3e-6 Å<sup>-2</sup>, and
<em>background</em> = 0.01 cm<sup>-1</sup>.</p>
</div>
<p>In general, averaging over a distribution of orientations is done by
evaluating the following</p>
<div class="math">
\[P(Q) = \int_0^{\pi/2} d\phi
    \int_0^\pi p(\theta, \phi) P_0(Q,\alpha) \sin \theta\ d\theta\]</div>
<p>where <span class="math">\(p(\theta,\phi)\)</span> is the probability distribution for the orientation
and <span class="math">\(P_0(Q,\alpha)\)</span> is the scattering intensity for the fully oriented
system. Since we have no other software to compare the implementation of
the intensity for fully oriented cylinders, we can compare the result of
averaging our 2D output using a uniform distribution <span class="math">\(p(\theta, \phi) = 1.0\)</span>.
<a class="pageref" href="#cylinder-crosscheck">Figure  4</a> shows the result of
such a cross-check.</p>
<div class="figure" id="cylinder-crosscheck">
<img alt="../_images/cylinder_crosscheck.jpg" src="../_images/cylinder_crosscheck.jpg" />
<p class="caption">Figure 4: Comparison of the intensity for uniformly distributed cylinders
calculated from our 2D model and the intensity from the NIST SANS
analysis software.
The parameters used were: <em>scale</em> = 1.0, <em>radius</em> = 20 Å,
<em>length</em> = 400 Å, <em>contrast</em> = 3e-6 Å<sup>-2</sup>, and
<em>background</em> = 0.0 cm<sup>-1</sup>.</p>
</div>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="core_shell_cylinder.html">2.1.1.3. Core shell cylinder</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="../ref/models/shape-ellipsoid.html">2.1.2. Ellipsoid Functions</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2014, sasview team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>