<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>2.1.1.2. Capped cylinder &mdash; Sasmodels</title>
    
    <link rel="stylesheet" href="../_static/haiku-site.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.9',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Sasmodels" href="../index.html" />
    <link rel="up" title="2.1.1. Cylinder Functions" href="../ref/models/shape-cylinder.html" />
    <link rel="next" title="2.1.1.3. Core shell cylinder" href="core_shell_cylinder.html" />
    <link rel="prev" title="2.1.1.1. Barbell" href="barbell.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="../index.html">
          <span>Home</span></a></h1>
        <h2 class="heading"><span>2.1.1.2. Capped cylinder</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="barbell.html">2.1.1.1. Barbell</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="core_shell_cylinder.html">2.1.1.3. Core shell cylinder</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="capped-cylinder">
<span id="id1"></span><h1>2.1.1.2. Capped cylinder<a class="headerlink" href="#capped-cylinder" title="Permalink to this headline">¶</a></h1>
<p>Right circular cylinder with spherical end caps and uniform SLD</p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="49%" />
<col width="17%" />
<col width="19%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Description</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>Source intensity</td>
<td>None</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>background</td>
<td>Source background</td>
<td>cm<sup>-1</sup></td>
<td>0</td>
</tr>
<tr class="row-even"><td>sld</td>
<td>Cylinder scattering length density</td>
<td>10<sup>-6</sup>Å<sup>-2</sup></td>
<td>4</td>
</tr>
<tr class="row-odd"><td>solvent_sld</td>
<td>Solvent scattering length density</td>
<td>10<sup>-6</sup>Å<sup>-2</sup></td>
<td>1</td>
</tr>
<tr class="row-even"><td>radius</td>
<td>Cylinder radius</td>
<td>Å</td>
<td>20</td>
</tr>
<tr class="row-odd"><td>cap_radius</td>
<td>Cap radius</td>
<td>Å</td>
<td>20</td>
</tr>
<tr class="row-even"><td>length</td>
<td>Cylinder length</td>
<td>Å</td>
<td>400</td>
</tr>
<tr class="row-odd"><td>theta</td>
<td>In plane angle</td>
<td>degree</td>
<td>60</td>
</tr>
<tr class="row-even"><td>phi</td>
<td>Out of plane angle</td>
<td>degree</td>
<td>60</td>
</tr>
</tbody>
</table>
<p>The returned value is scaled to units of cm<sup>-1</sup>.</p>
<p>Calculates the scattering from a cylinder with spherical section end-caps.
This model simply becomes the a convex lens when the length of the cylinder
<span class="math">\(L=0\)</span>, that is, a sphereocylinder with end caps that have a radius larger
than that of the cylinder and the center of the end cap radius lies within
the cylinder. See the diagram for the details of the geometry and
restrictions on parameter values.</p>
<div class="section" id="definitions">
<h2>Definitions<a class="headerlink" href="#definitions" title="Permalink to this headline">¶</a></h2>
<p>The returned value is scaled to units of cm<sup>-1</sup>sr<sup>-1</sup>, absolute scale.</p>
<p>The capped cylinder geometry is defined as</p>
<img alt="../_images/capped_cylinder_geometry.jpg" src="../_images/capped_cylinder_geometry.jpg" />
<p>where <span class="math">\(r\)</span> is the radius of the cylinder. All other parameters are as defined
in the diagram. Since the end cap radius <span class="math">\(R \ge r\)</span> and by definition for this
geometry <span class="math">\(h &lt; 0\)</span>, <span class="math">\(h\)</span> is then defined by <span class="math">\(r\)</span> and <span class="math">\(R\)</span> as</p>
<div class="math">
\[h = - \sqrt{R^2 - r^2}\]</div>
<p>The scattered intensity <span class="math">\(I(Q)\)</span> is calculated as</p>
<div class="math">
\[\begin{split}I(Q) = \frac{(\Delta \rho)^2}{V} \left&lt; A^2(Q)\right&gt;\end{split}\]</div>
<p>where the amplitude <span class="math">\(A(Q)\)</span> is given as</p>
<div class="math">
\[\begin{split}A(Q) =&amp;\ \pi r^2L
    {\sin\left(\tfrac12 QL\cos\theta\right)
        \over \tfrac12 QL\cos\theta}
    {2 J_1(Qr\sin\theta) \over Qr\sin\theta} \\
    &amp;\ + 4 \pi R^3 \int_{-h/R}^1 dt
    \cos\left[ Q\cos\theta
        \left(Rt + h + {\tfrac12} L\right)\right]
    \times (1-t^2)
    {J_1\left[QR\sin\theta \left(1-t^2\right)^{1/2}\right]
         \over QR\sin\theta \left(1-t^2\right)^{1/2}}\end{split}\]</div>
<p>The <span class="math">\(\left&lt; \ldots \right&gt;\)</span> brackets denote an average of the structure over
all orientations. <span class="math">\(\left&lt; A^2(Q)\right&gt;\)</span> is then the form factor, <span class="math">\(P(Q)\)</span>.
The scale factor is equivalent to the volume fraction of cylinders, each of
volume, <span class="math">\(V\)</span>. Contrast is the difference of scattering length densities of
the cylinder and the surrounding solvent.</p>
<p>The volume of the capped cylinder is (with <span class="math">\(h\)</span> as a positive value here)</p>
<div class="math">
\[V = \pi r_c^2 L + \tfrac{2\pi}{3}(R-h)^2(2R + h)\]</div>
<p>and its radius-of-gyration is</p>
<div class="math">
\[\begin{split}R_g^2 =&amp;\ \left[ \tfrac{12}{5}R^5
    + R^4\left(6h+\tfrac32 L\right)
    + R^2\left(4h^2 + L^2 + 4Lh\right)
    + R^2\left(3Lh^2 + \tfrac32 L^2h\right) \right. \\
    &amp;\ \left. + \tfrac25 h^5 - \tfrac12 Lh^4 - \tfrac12 L^2h^3
    + \tfrac14 L^3r^2 + \tfrac32 Lr^4 \right]
    \left( 4R^3 6R^2h - 2h^3 + 3r^2L \right)^{-1}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The requirement that <span class="math">\(R \ge r\)</span> is not enforced in the model!
It is up to you to restrict this during analysis.</p>
</div>
<p><a class="pageref" href="#capped-cylinder-1d">Figure  1</a> shows the output produced by
a running the 1D capped cylinder model, using <em>qmin</em> = 0.001 Å<sup>-1</sup>,
<em>qmax</em> = 0.7 Å<sup>-1</sup> and  the default values of the parameters.</p>
<div class="figure" id="capped-cylinder-1d">
<img alt="../_images/capped_cylinder_1d.jpg" src="../_images/capped_cylinder_1d.jpg" />
<p class="caption">Figure 1: 1D plot using the default values (w/256 data point).</p>
</div>
<p>The 2D scattering intensity is calculated similar to the 2D cylinder model.
<a class="pageref" href="#capped-cylinder-2d">Figure  2</a> shows the output for <span class="math">\(\theta=45^\circ\)</span>
and <span class="math">\(\phi=0^\circ\)</span> with default values for the other parameters.</p>
<div class="figure" id="capped-cylinder-2d">
<img alt="../_images/capped_cylinder_2d.jpg" src="../_images/capped_cylinder_2d.jpg" />
<p class="caption">Figure 2: 2D plot (w/(256X265) data points).</p>
</div>
<div class="figure">
<img alt="../_images/orientation.jpg" src="../_images/orientation.jpg" />
<p class="caption">Figure 3: Definition of the angles for oriented 2D cylinders.</p>
</div>
<div class="figure">
<img alt="../_images/orientation2.jpg" src="../_images/orientation2.jpg" />
<p class="caption">Figure 4: Examples of the angles for oriented pp against the detector plane.</p>
</div>
<p>REFERENCE</p>
<p>H Kaya, <em>J. Appl. Cryst.</em>, 37 (2004) 223-230</p>
<p>H Kaya and N-R deSouza, <em>J. Appl. Cryst.</em>, 37 (2004) 508-509 (addenda and errata)</p>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="barbell.html">2.1.1.1. Barbell</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="core_shell_cylinder.html">2.1.1.3. Core shell cylinder</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2014, sasview team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>