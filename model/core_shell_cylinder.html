<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>2.1.1.3. Core shell cylinder &mdash; Sasmodels</title>
    
    <link rel="stylesheet" href="../_static/haiku-site.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.9',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Sasmodels" href="../index.html" />
    <link rel="up" title="2.1.1. Cylinder Functions" href="../ref/models/shape-cylinder.html" />
    <link rel="next" title="2.1.1.4. Cylinder" href="cylinder.html" />
    <link rel="prev" title="2.1.1.2. Capped cylinder" href="capped_cylinder.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="../index.html">
          <span>Home</span></a></h1>
        <h2 class="heading"><span>2.1.1.3. Core shell cylinder</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="capped_cylinder.html">2.1.1.2. Capped cylinder</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="cylinder.html">2.1.1.4. Cylinder</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="core-shell-cylinder">
<span id="id1"></span><h1>2.1.1.3. Core shell cylinder<a class="headerlink" href="#core-shell-cylinder" title="Permalink to this headline">¶</a></h1>
<p>Right circular cylinder with a core-shell scattering length density profile.</p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="53%" />
<col width="16%" />
<col width="17%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Description</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>Source intensity</td>
<td>None</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>background</td>
<td>Source background</td>
<td>cm<sup>-1</sup></td>
<td>0</td>
</tr>
<tr class="row-even"><td>core_sld</td>
<td>Cylinder core scattering length density</td>
<td>10<sup>-6</sup>Å<sup>-2</sup></td>
<td>4</td>
</tr>
<tr class="row-odd"><td>shell_sld</td>
<td>Cylinder shell scattering length density</td>
<td>10<sup>-6</sup>Å<sup>-2</sup></td>
<td>4</td>
</tr>
<tr class="row-even"><td>solvent_sld</td>
<td>Solvent scattering length density</td>
<td>10<sup>-6</sup>Å<sup>-2</sup></td>
<td>1</td>
</tr>
<tr class="row-odd"><td>radius</td>
<td>Cylinder core radius</td>
<td>Å</td>
<td>20</td>
</tr>
<tr class="row-even"><td>thickness</td>
<td>Cylinder shell thickness</td>
<td>Å</td>
<td>20</td>
</tr>
<tr class="row-odd"><td>length</td>
<td>Cylinder length</td>
<td>Å</td>
<td>400</td>
</tr>
<tr class="row-even"><td>theta</td>
<td>In plane angle</td>
<td>degree</td>
<td>60</td>
</tr>
<tr class="row-odd"><td>phi</td>
<td>Out of plane angle</td>
<td>degree</td>
<td>60</td>
</tr>
</tbody>
</table>
<p>The returned value is scaled to units of cm<sup>-1</sup>.</p>
<p>The form factor is normalized by the particle volume.</p>
<div class="section" id="definition">
<h2>Definition<a class="headerlink" href="#definition" title="Permalink to this headline">¶</a></h2>
<p>The output of the 2D scattering intensity function for oriented core-shell
cylinders is given by (Kline, 2006)</p>
<div class="math">
\[P(Q,\alpha) = {\text{scale} \over V_s} F^2(Q) + \text{background}\]</div>
<p>where</p>
<div class="math">
\[\begin{split}F(Q) = &amp;\ (\rho_c - \rho_s) V_c
       {\sin \left( Q \tfrac12 L\cos\alpha \right)
           \over Q \tfrac12 L\cos\alpha }
       {2 J_1 \left( QR\sin\alpha \right)
           \over QR\sin\alpha } \\
     &amp;\ + (\rho_s - \rho_\text{solv}) V_s
       {\sin \left( Q \left(\tfrac12 L+T\right) \cos\alpha \right)
           \over Q \left(\tfrac12 L +T \right) \cos\alpha }
       { 2 J_1 \left( Q(R+T)\sin\alpha \right)
           \over Q(R+T)\sin\alpha }\end{split}\]</div>
<p>and</p>
<div class="math">
\[V_s = \pi (R + T)^2 (L + 2T)\]</div>
<p>and <span class="math">\(\alpha\)</span> is the angle between the axis of the cylinder and <span class="math">\(\vec q\)</span>,
<span class="math">\(V_s\)</span> is the volume of the outer shell (i.e. the total volume, including
the shell), <span class="math">\(V_c\)</span> is the volume of the core, <span class="math">\(L\)</span> is the length of the core,
<span class="math">\(R\)</span> is the radius of the core, <span class="math">\(T\)</span> is the thickness of the shell, <span class="math">\(\rho_c\)</span>
is the scattering length density of the core, <span class="math">\(\rho_s\)</span> is the scattering
length density of the shell, <span class="math">\(\rho_\text{solv}\)</span> is the scattering length
density of the solvent, and <em>background</em> is the background level.  The outer
radius of the shell is given by <span class="math">\(R+T\)</span> and the total length of the outer
shell is given by <span class="math">\(L+2T\)</span>. <span class="math">\(J1\)</span> is the first order Bessel function.</p>
<div class="figure" id="core-shell-cylinder-geometry">
<img alt="../_images/core_shell_cylinder_geometry.jpg" src="../_images/core_shell_cylinder_geometry.jpg" />
<p class="caption">Figure 1: Core shell cylinder schematic.</p>
</div>
<p>To provide easy access to the orientation of the core-shell cylinder, we
define the axis of the cylinder using two angles <span class="math">\(\theta\)</span> and <span class="math">\(\phi\)</span>. As
for the case of the cylinder, those angles are defined in
.</p>
<p>NB: The 2nd virial coefficient of the cylinder is calculated based on
the radius and 2 length values, and used as the effective radius for
<span class="math">\(S(Q)\)</span> when <span class="math">\(P(Q) \cdot S(Q)\)</span> is applied.</p>
<p>The <span class="math">\(\theta\)</span> and <span class="math">\(\phi\)</span> parameters are not used for the 1D output. Our
implementation of the scattering kernel and the 1D scattering intensity
use the c-library from NIST.</p>
</div>
<div class="section" id="validation">
<h2>Validation<a class="headerlink" href="#validation" title="Permalink to this headline">¶</a></h2>
<p>Validation of our code was done by comparing the output of the 1D model to
the output of the software provided by the NIST (Kline, 2006).
<a class="pageref" href="#core-shell-cylinder-1d">Figure  2</a> shows a comparison
of the 1D output of our model and the output of the NIST software.</p>
<div class="figure" id="core-shell-cylinder-1d">
<img alt="../_images/core_shell_cylinder_1d.jpg" src="../_images/core_shell_cylinder_1d.jpg" />
<p class="caption">Figure 2: Comparison of the SasView scattering intensity for a core-shell cylinder
with the output of the NIST SANS analysis software. The parameters were
set to: <em>scale</em> = 1.0 Å, <em>radius</em> = 20 Å, <em>thickness</em> = 10 Å,
<em>length</em> =400 Å, <em>core_sld</em> =1e-6 Å<sup>-2</sup>, <em>shell_sld</em> = 4e-6 Å<sup>-2</sup>,
<em>solvent_sld</em> = 1e-6 Å<sup>-2</sup>, and <em>background</em> = 0.01 cm<sup>-1</sup>.</p>
</div>
<p>Averaging over a distribution of orientation is done by evaluating the
equation above. Since we have no other software to compare the
implementation of the intensity for fully oriented cylinders, we can
compare the result of averaging our 2D output using a uniform
distribution <span class="math">\(p(\theta,\phi) = 1.0\)</span>.
<a class="pageref" href="#core-shell-cylinder-2d">Figure  3</a> shows the result
of such a cross-check.</p>
<div class="figure" id="core-shell-cylinder-2d">
<img alt="../_images/core_shell_cylinder_2d.jpg" src="../_images/core_shell_cylinder_2d.jpg" />
<p class="caption">Figure 3: Comparison of the intensity for uniformly distributed core-shell
cylinders calculated from our 2D model and the intensity from the
NIST SANS analysis software. The parameters used were: <em>scale</em> = 1.0,
<em>radius</em> = 20 Å, <em>thickness</em> = 10 Å, <em>length</em> = 400 Å,
<em>core_sld</em> = 1e-6 Å<sup>-2</sup>, <em>shell_sld</em> = 4e-6 Å<sup>-2</sup>,
<em>solvent_sld</em> = 1e-6 Å<sup>-2</sup>, and <em>background</em> = 0.0 cm<sup>-1</sup>.</p>
</div>
<p>2013/11/26 - Description reviewed by Heenan, R.</p>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="capped_cylinder.html">2.1.1.2. Capped cylinder</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="cylinder.html">2.1.1.4. Cylinder</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2014, sasview team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>